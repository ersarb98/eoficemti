{"version":3,"sources":["../../src/pages/search-sppd/search-sppd.module.ts","../../src/pages/search-sppd/search-sppd.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACD;AAU/C;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QARhC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAc;aACf;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;aACzC;SACF,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACZS;AACqG;AAC1F;AACP;AACL;AACuB;AACrB;AAE3C;;;;;GAKG;AAQH;IAkBE,wBACS,OAAsB,EACtB,SAAoB,EACpB,WAAwB,EACxB,WAA8B,EAC9B,OAAgB,EAChB,SAA0B,EAC1B,SAA0B,EAC1B,SAA0B,EAC1B,QAAwB,EACxB,UAAsB,EACtB,QAAkB;QAX3B,iBAiBC;QAhBQ,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,YAAO,GAAP,OAAO,CAAS;QAChB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,eAAU,GAAV,UAAU,CAAY;QACtB,aAAQ,GAAR,QAAQ,CAAU;QA3B3B,cAAS,GAAY,KAAK,CAAC;QAC3B,aAAQ,GAAe,EAAE,CAAC;QAC1B,cAAS,GAAe,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;QACrC,cAAS,GAAG,CAAC,CAAC;QACd,eAAU,GAAG,EAAE,CAAC;QAEhB,gBAAW,GAAO,EAAE,CAAC;QACrB,YAAO,GAAO,EAAE,CAAC;QACjB,oBAAe,GAAO,EAAE,CAAC;QACzB,iBAAY,GAAO,EAAE,CAAC;QACtB,cAAS,GAAO,EAAE,CAAC;QACnB,YAAO,GAAO,EAAE,CAAC;QACjB,eAAU,GAAO,EAAE,CAAC;QAiBlB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAG;YACtC,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QAEzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;IAC/C,CAAC;IAED,uCAAc,GAAd,UAAe,IAAW;QAA1B,iBAgBC;QAfC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,IAAI,EAAE,IAAI,IAAI,EAAE;YAChB,IAAI,EAAE,MAAM;YACZ,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,gBAAgB;SAC9D,CAAC,CAAC,IAAI,CAAC,cAAI;YACR,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACd,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;YAC/D,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACrB,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;YAC7D,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACrB,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;YAClE,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,GAAG,CAAC,EAAvD,CAAuD,CAC/D,CAAC;IACJ,CAAC;IAED,oCAAW,GAAX,UAAY,IAAI,EAAE,YAAY;QAA9B,iBAwEC;QAvEC,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,CAAC;QACD,IAAI,CAAC,WAAW;aACb,IAAI,CAAC,6DAAY,EAAE,mBAAmB,EAAE;YACvC,OAAO,EAAE,IAAI,CAAC,SAAS,CACrB;gBACE,WAAW,EAAG,yDAAQ;gBACtB,WAAW,EAAG,yDAAQ;gBACtB,OAAO,EAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC;gBAC1C,YAAY;gBACZ,YAAY,EAAG,IAAI,CAAC,WAAW;gBAC/B,OAAO,EAAK,IAAI,CAAC,OAAO;gBACxB,gBAAgB,EAAG,IAAI,CAAC,eAAe;gBACvC,aAAa,EAAG,IAAI,CAAC,YAAY;gBACjC,UAAU,EAAG,IAAI,CAAC,SAAS;gBAC3B,QAAQ,EAAG,IAAI,CAAC,OAAO;gBACvB,WAAW,EAAG,IAAI,CAAC,UAAU;gBAC7B,IAAI,EAAE,IAAI,CAAC,SAAS;gBACpB,KAAK,EAAE,IAAI,CAAC,UAAU;aACvB,CACF;SACF,CAAC,CAAC,IAAI,CAAC,gBAAM;YACZ,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACxB,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;oBAC5C,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;gBACrB,CAAC;gBACD,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAE,CAAC,CAAC,CAAC;oBACnC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnD,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC5C,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,OAAO,EAAE,qDAAqD;oBAC9D,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,QAAQ;iBACnB,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,UAAU,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACpD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;QAEH,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACV,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAE;YACpB,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,OAAO,EAAE,6DAA6D;gBACtE,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;aACnB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAEhB,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBAC1C,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,UAAU,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACpD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;YAED,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAU,GAAV,UAAW,cAAc;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;QAC/C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,iCAAQ,GAAR;QACE,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,mCAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,mCAAU,GAAV;QACC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,OAAO,GAAE,EAAE,CAAC;QACjB,IAAI,CAAC,eAAe,GAAE,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,GAAE,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,GAAE,EAAE,CAAC;QACnB,IAAI,CAAC,OAAO,GAAE,EAAE,CAAC;QACjB,IAAI,CAAC,UAAU,GAAE,EAAE,CAAC;IACtB,CAAC;IAED,mCAAU,GAAV,UAAW,OAAO;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;YACnC,UAAU,EAAE,MAAM;YAClB,WAAW,EAAE,OAAO;YACpB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;YACtC,WAAW,EAAE,IAAI,CAAC,WAAW;SAC9B,CAAC,CAAC;IACL,CAAC;IA3KY,cAAc;QAL1B,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;YAC5B,SAAS,EAAE,CAAC,kEAAW,CAAC;WACO;SAChC,CAAC;6EAoB+B;YACX,kEAAS;YACP,wEAAW;YACX,gEAAiB;YACrB,sEAAO;YACL,sEAAe;YACf,sEAAe;YACf,sEAAe;YAChB,8EAAc;YACZ,mEAAU;YACZ,QAAQ;OA7BhB,cAAc,CA6K1B;IAAD,CAAC;AAAA;SA7KY,cAAc,gB","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchSppdPage } from './search-sppd';\n\n@NgModule({\n  declarations: [\n    SearchSppdPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchSppdPage),\n  ],\n})\nexport class SearchSppdPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-sppd/search-sppd.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ToastController, ViewController } from 'ionic-angular';\nimport {DatePicker} from '@ionic-native/date-picker';\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass } from '../../config';\nimport { DatePipe } from '@angular/common';\n\n/**\n * Generated class for the SearchSppdPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-search-sppd',\n  providers: [SoapService],\n  templateUrl: 'search-sppd.html',\n})\nexport class SearchSppdPage {\n  userdataTPK:any;\n  isLoading: Boolean = false;\n  sppdList: Array<any> = [];\n  fakeUsers: Array<any> = new Array(5);  \n  batasAtas = 1;\n  batasBawah = 10;\n  \n  noPengajuan:any = '';\n  perihal:any = '';\n  penanggungJawab:any = '';\n  tglPengajuan:any = '';\n  startDate:any = '';\n  endDate:any = '';\n  kotaTujuan:any = '';\n\n\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public soapService: SoapService,\n    public loadingCtrl: LoadingController,\n    public storage: Storage,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    public viewCtrl: ViewController,\n    public datePicker: DatePicker,\n    public datePipe: DatePipe\n  ) {\n    this.storage.get('userdataTPK').then(val => {      \n      this.userdataTPK = val;            \n        \n    });  \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SearchSppdPage');\n  }\n\n  showDatePicker(type:number) {\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'date',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_LIGHT\n    }).then(date => {\n        if (type == 1) {\n          this.startDate = this.datePipe.transform(date, 'dd-MM-yyyy'); \n        } else if (type == 2) {\n          this.endDate = this.datePipe.transform(date, 'dd-MM-yyyy');\n        } else if (type == 3) {\n          this.tglPengajuan = this.datePipe.transform(date, 'dd-MM-yyyy');\n        }\n      },\n      err => console.log('Error occurred while getting date: ', err)\n    );\n  }\n\n  getSppdList(type, functionName) {    \n    if (type == 'first' && functionName == '') {\n      this.isLoading = true;  \n    }    \n    this.soapService\n      .post(api_base_url, 'eoffice_sppd_list', {\n        fStream: JSON.stringify(\n          {\n            usernameEDI : api_user, \n            passwordEDI : api_pass,\n            id_user:this.userdataTPK['data']['IDUSER'],\n            // id_user:,\n            no_pengajuan : this.noPengajuan,\n            perihal \t\t: this.perihal,\n            penanggung_jawab : this.penanggungJawab,\n            tgl_pengajuan : this.tglPengajuan,\n            start_date : this.startDate,\n            end_date : this.endDate,\n            kota_tujuan : this.kotaTujuan,\n            atas: this.batasAtas,\n            bawah: this.batasBawah\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));        \n        console.log(responData);\n        if (responData['rcmsg'] == \"SUCCESS\") {\n          if (type == 'refresh' && functionName != '') {\n            this.sppdList = [];\n          }\n          if (responData['data'].length > 0 ) {\n            for (var i = 0; i < responData['data'].length; i++) {\n              this.sppdList.push(responData['data'][i]);\n            }\n          }          \n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'Gagal mendapatkan data SPPD, silahkan coba kembali.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n        }\n\n        if (type == 'first' && functionName == '') {\n          this.isLoading = false;  \n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }        \n        \n      })\n      .catch(error => {       \n        console.log(error) ;\n        let toast = this.toastCtrl.create({\n          message: 'Gagal mendapatkan data SPPD, periksa koneksi internet anda.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n      \n        if (type == 'first' && functionName == '') {\n          this.isLoading = false;  \n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n\n        this.isLoading = false;\n      });\n  }\n\n  doInfinite(infiniteScroll) {\n    if (this.sppdList.length >= 10) {\n      this.batasAtas = this.batasBawah + 1;\n      this.batasBawah = this.batasBawah + 10;\n      this.getSppdList('infinite', infiniteScroll);\n    } else {\n      infiniteScroll.complete();\n    }\n  }\n\n  doSearch() {    \n    this.batasAtas = 1;\n    this.batasBawah = 20;\n    this.sppdList = []; \n    this.getSppdList('first', '');    \n  }\n\n  closeModal(){\n    this.viewCtrl.dismiss();\n }\n\n clearField() {\n  this.noPengajuan = '';\n  this.perihal= '';\n  this.penanggungJawab= '';\n  this.tglPengajuan= '';\n  this.startDate= '';\n  this.endDate= '';\n  this.kotaTujuan= '';\n}\n\ngoToDetail(message) {\n  this.navCtrl.push(\"InboxDetailPage\", {\n    from_modul: 'sppd',\n    messageData: message,\n    nipp: this.userdataTPK['data']['NIPP'],\n    userdataTPK: this.userdataTPK\n  });\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-sppd/search-sppd.ts"],"sourceRoot":""}
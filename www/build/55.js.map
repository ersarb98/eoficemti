{"version":3,"sources":["../../src/pages/inbox/inbox.module.ts","../../src/pages/inbox/inbox.ts"],"names":[],"mappings":"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","file":"55.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { InboxPage } from './inbox';\n\n@NgModule({\n  declarations: [\n    InboxPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(InboxPage),\n  ],\n})\nexport class InboxPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inbox/inbox.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ToastController } from 'ionic-angular';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass } from '../../config';\n\n/**\n * Generated class for the InboxPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-inbox',\n  providers: [SoapService],\n  templateUrl: 'inbox.html',\n})\nexport class InboxPage {\n  messages: Array<any> = [];\n  isLoading: boolean = true;\n  userdataTPK: any;\n  halaman = 1;\n  isSearch: boolean = false;\n  inputSearch: any;\n  fakeUsers: Array<any> = new Array(5);\n\n  loadingFilter:Boolean = true;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public soapService: SoapService,\n    public loadingCtrl: LoadingController,\n    public storage: Storage,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public ngZone: NgZone,\n    public toastCtrl: ToastController\n  ) {    \n  }\n\n  ionViewDidEnter() {            \n    this.storage.get('userdataTPK').then(val => {\n      this.halaman = 1;\n      this.userdataTPK = val;\n\n      this.getMessages('first','');              \n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InboxPage');\n  }\n\n  getMessages(type, functionName) {\n    // if (type == 'first' && functionName == '') {\n    this.isLoading = true;  \n    // }\n\n    // console.log(JSON.stringify({\n    //   usernameEDI: api_user,\n    //   passwordEDI: api_pass,\n    //   iduser: this.userdataTPK.data.IDUSER,\n    //   idjabatan: this.userdataTPK.data.IDJABATAN,\n    //   page: this.halaman,\n    //   jmlpage: '20',\n    //   perihal: \"\",\n    //   tanggalawal: \"\",\n    //   tanggalakhir: \"\",\n    //   sorting: \"3\",  \n    //   filter:\"0\"  \n    // }));\n    \n    this.soapService\n      .post(api_base_url, 'eoffice_inbox', {\n        fStream: JSON.stringify(\n          {\n            usernameEDI: api_user,\n            passwordEDI: api_pass,\n            iduser: this.userdataTPK.data.IDUSER,\n            idjabatan: this.userdataTPK.data.IDJABATAN,\n            page: this.halaman,\n            jmlpage: '20',\n            perihal: \"\",\n            tanggalawal: \"\",\n            tanggalakhir: \"\",\n            sorting: \"1\",  \n            filter:\"0\"          \n          }\n        )\n      }).then(result => {        \n        var responData = JSON.parse(String(result));              \n        console.log(responData);\n        if (responData['rcmsg'] == \"SUCCESS\") {\n          if (type == 'refresh' && functionName != '') {\n            this.messages = [];\n          } else if (type == 'first' && functionName == '') {\n            this.messages = [];\n          }\n          if (responData['data']['List_Inbox'].length > 0 && !this.isEmptyObject(responData['data']['List_Inbox'][0])) {                \n            for (var i = 0; i < responData['data']['List_Inbox'].length; i++) {\n              this.messages.push(responData['data']['List_Inbox'][i]);\n            }\n          }          \n\n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n        }\n        if (type == 'first' && functionName == '') {\n          \n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n        this.isLoading = false;\n      })\n      .catch(error => {        \n        let toast = this.toastCtrl.create({\n          message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        if (type == 'first' && functionName == '') {\n          \n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n        this.isLoading = false;\n      });\n  }\n\n  goToDetail(message) {    \n    this.navCtrl.push(\"InboxDetailPage\", {\n      messageData: message,\n      nipp: this.userdataTPK['data']['NIPP'],\n      userdataTPK: this.userdataTPK\n    });\n  }\n\n  doInfinite(infiniteScroll) {\n\n    this.halaman++;    \n    this.getMessages('infinite', infiniteScroll);\n  }\n\n  doRefresh(refresher) {\n    this.halaman = 1;\n    this.getMessages('refresh', refresher);\n  }\n\n  submitSearch() {    \n    this.navCtrl.push('InboxSearchPage', {\n      inputSearch: this.inputSearch,\n      userdataTPK: this.userdataTPK,\n      type: 'inbox'\n    })\n  }\n\n  showModal(page) {\n    let modal = this.modalCtrl.create(page, {\n      openFrom: 'inboxPage'\n    }, {\n        enableBackdropDismiss: true,\n        showBackdrop: true,        \n      });\n    modal.present();\n  }\n\n  isEmptyObject(obj) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  doArsip(data) {\n    let loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mengarsip Surat...\",\n      cssClass: 'transparent',\n      dismissOnPageChange: true\n    });\n    loading.present();\n    this.soapService\n      .post(api_base_url, 'eoffice_arsip_add', {\n        fStream: JSON.stringify(\n          {\n            usernameEDI: api_user,\n            passwordEDI: api_pass,\n            id_surat: data['id_surat'],\n            keterangan: data['Status'],\n            id_user: this.userdataTPK.data.IDUSER,\n            id_jab: this.userdataTPK.data.IDJABATAN,\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));        \n        let toast = this.toastCtrl.create({\n          message: 'Surat Berhasil Diarsipkan.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        this.getMessages('first', '');\n        loading.dismiss();\n      }).catch(error => {\n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        loading.dismiss();\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inbox/inbox.ts"],"sourceRoot":""}
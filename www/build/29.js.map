{"version":3,"sources":["../../src/pages/prpo-list/prpo-list.module.ts","../../src/pages/prpo-list/prpo-list.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PrpoListPage } from './prpo-list';\n\n@NgModule({\n  declarations: [\n    PrpoListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PrpoListPage),\n  ],\n})\nexport class PrpoListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/prpo-list/prpo-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ToastController } from 'ionic-angular';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass, api_p2b_url } from '../../config';\n\n/**\n * Generated class for the PrpoListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-prpo-list',\n  providers: [SoapService],\n  templateUrl: 'prpo-list.html',\n})\nexport class PrpoListPage {\n  userdataTPK: any;\n  isLoading: Boolean = true;\n  prpoList: Array<any> = [];\n  fakeUsers: Array<any> = new Array(5);\n  batasAtas = 1;\n  batasBawah = 10;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public soapService: SoapService,\n    public loadingCtrl: LoadingController,\n    public storage: Storage,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController\n  ) {\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad PrpoListPage');\n    // this.storage.get('userdataTPK').then(val => {\n    //   this.userdataTPK = val;\n    //   this.getPrpoList('first', '');\n    // });\n  }\n\n  ionViewDidEnter() {\n    console.log('ionViewDidLoad PrpoListPage');\n    this.storage.get('userdataTPK').then(val => {\n      this.userdataTPK = val;\n      this.prpoList = [];\n      this.getPrpoList('first', '');\n    });\n  }\n\n  getPrpoList(type, functionName) {\n    if (type == 'first' && functionName == '') {\n      this.isLoading = true;\n    }\n    this.soapService\n      .post(api_p2b_url, 'eoffice_bypass_wso', {\n        fStream: JSON.stringify(\n          {\n            sc_type: \"notif_prpo_tpk\",\n            sc_code: \"\",        \n            data : {\n              nipp: this.userdataTPK['data']['NIPP'] ,\n              // nipp: '270055960',\n              atas:this.batasAtas,\n              bawah: this.batasBawah\n            }\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));\n        console.log(responData);\n        if (responData['rcmsg'] == \"SUCCESS\") {          \n          if (type == 'refresh' && functionName != '') {\n            this.prpoList = [];\n          }\n          if (this.isEmptyObject(responData['data'][0]) == false ) {\n            for (var i = 0; i < responData['data'].length; i++) {\n              this.prpoList.push(responData['data'][i]);\n            }\n          }\n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'Gagal mendapatkan data cuti, silahkan coba kembali.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n        }\n\n        if (type == 'first' && functionName == '') {\n          this.isLoading = false;\n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n\n      })\n      .catch(error => {\n        let toast = this.toastCtrl.create({\n          message: 'Gagal mendapatkan data cuti, periksa koneksi internet anda.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n\n        if (type == 'first' && functionName == '') {\n          this.isLoading = false;\n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n\n        this.isLoading = false;\n      });\n  }\n\n  doInfinite(infiniteScroll) {\n    if (this.prpoList.length >= 10) {\n      this.batasAtas = this.batasBawah + 1;\n      this.batasBawah = this.batasBawah + 10;\n      this.getPrpoList('infinite', infiniteScroll);\n    } else {\n      infiniteScroll.complete();\n    }\n  }\n\n  doRefresh(refresher) {\n    this.batasAtas = 1;\n    this.batasBawah = 10;\n    this.getPrpoList('refresh', refresher);\n  }\n\n  goToDetail(data) {        \n    this.navCtrl.push(\"PrpoDetailPage\", {\n      prpoData: data,      \n    });\n  }\n\n  isEmptyObject(obj) {\n    for(var prop in obj) {\n       if (obj.hasOwnProperty(prop)) {\n          return false;\n       }\n    } \n    return true;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/prpo-list/prpo-list.ts"],"sourceRoot":""}
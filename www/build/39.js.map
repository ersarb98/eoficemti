{"version":3,"sources":["../../src/pages/p2b-catatan/p2b-catatan.module.ts","../../src/pages/p2b-catatan/p2b-catatan.ts"],"names":[],"mappings":"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","file":"39.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { P2bCatatanPage } from './p2b-catatan';\n\n@NgModule({\n  declarations: [\n    P2bCatatanPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(P2bCatatanPage),\n  ],\n})\nexport class P2bCatatanPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2b-catatan/p2b-catatan.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { SoapService } from '../soap.service';\nimport { OneSignal } from '@ionic-native/onesignal';\nimport { api_base_url, api_user, api_pass } from '../../config';\n\n\n/**\n * Generated class for the P2bCatatanPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-p2b-catatan',\n  providers: [SoapService],\n  templateUrl: 'p2b-catatan.html',\n})\nexport class P2bCatatanPage {\n  isLoading: boolean;\n  userdataTPK: any;\n  p2bdata: any;\n  p2buser: any;\n\n  catatan:any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public soapService : SoapService,\n    public oneSignal: OneSignal,\n    public toastCtrl: ToastController\n    ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad P2bCatatanPage');\n  }\n\n  doKeberatan() {\n    let alert = this.alertCtrl.create({\n      subTitle: 'Anda yakin ingin melakukan keberatan ?',\n      cssClass: 'alert',\n      buttons: [\n        {\n          text: 'TIDAK',\n          role: 'cancel',\n          handler: () => {            \n          }\n        },\n        {\n          text: 'YA',\n          handler: () => {\n            let loading = this.loadingCtrl.create({\n              content: '',\n              cssClass: 'transparent',              \n            });\n            loading.present();\n            this.isLoading = true;\n            this.soapService\n              .post(api_base_url, 'eoffice_p2b_keberatan_eval', {\n                fStream: JSON.stringify(\n                  {                    \n                    usernameEDI: api_user,\n                    passwordEDI: api_pass,\n                    nipp_user: this.userdataTPK['data']['NIPP'],\n                    id_eval: this.p2bdata['Id Evaluasi'],\n                    id_penilai: this.p2buser['P2B_ID_ATASAN_2'],\n                    id_jabatan_penilai: this.p2buser['P2B_ID_JAB_ATASAN_2'],\n                    year: this.p2bdata['Tahun'],\n                    month: this.convertMonths(this.p2bdata['Bulan'])\n                  }\n                )\n              }).then(result => {\n                var responData = JSON.parse(String(result));                \n                if (responData['rcmsg'] == \"SUCCESS\") {                  \n                  let toast = this.toastCtrl.create({\n                    message: 'Pengajuan Keberatan Berhasil.',\n                    duration: 3000,\n                    position: 'bottom'\n                  });\n                  toast.present().then(() => {\n                    this.pushNotif('keberatan');\n                    this.navCtrl.pop();\n                  });\n                } else {\n                  let toast = this.toastCtrl.create({\n                    message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n                    duration: 3000,\n                    position: 'bottom'\n                  });\n                  toast.present();\n                }\n                loading.dismiss();\n                this.isLoading = false;\n              })\n              .catch(error => {                \n                let toast = this.toastCtrl.create({\n                  message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n                  duration: 3000,\n                  position: 'bottom'\n                });\n                toast.present();\n                loading.dismiss();\n                this.isLoading = false;\n              });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  pushNotif(type) {\n    let userList = [];\n    let res;\n    let en;\n\n\n    if (type == 'dinilai') {\n      res = 'P2bPage';\n      en = 'Pengajuan P2B anda telah dinilai oleh atasan';\n      userList.push(this.p2bdata['NIPP']);\n    } else if (type == 'kembalikan') {\n      res = 'P2bPage';\n      en = 'Pengajuan P2B anda dikembalikan oleh atasan';\n      userList.push(this.p2bdata['NIPP']);\n    } else if (type == 'keberatan') {\n      res = 'P2bPage';\n      en = 'Ada Pengajuan Keberatan P2B dari ' + this.userdataTPK['data']['NAMA'];\n      userList.push(this.p2buser['P2B_NIPP_ATASAN_2']);\n    } else if (type == 'penilaian') {      \n      res = 'RencanaKerjaBawahanListPage';\n      en = 'Ada Pengajuan P2B dari ' + this.userdataTPK['data']['NAMA'];\n      userList.push(this.p2buser['P2B_NIPP_ATASAN_1']);      \n    } else if (type == 'finished') {      \n      res = 'P2bPage';\n      en = 'Pengajuan keberatan P2B anda telah dinilai oleh ' + this.userdataTPK['data']['NAMA'];\n      userList.push(this.p2bdata['NIPP']);      \n    }\n    else {      \n    }\n\n    this.oneSignal.getIds().then((id) => {      \n      this.soapService\n        .post(api_base_url, 'eoffice_notif_imove_nipp', {\n          fStream: JSON.stringify(\n            {\n              usernameEDI: api_user,\n              passwordEDI: api_pass,\n              nipp: userList,\n              data: {\n                \"res\": res,\n                \"p2buser\" : this.p2buser\n              },\n              heading : {\n                \"en\": \"P2B\"\n              },\n              content: {\n                \"en\": en\n              },\n            }\n\n          )\n        }).then(result => {\n          let hasil = JSON.parse(String(result));        \n        }).catch(error => {\n        });\n    });\n  }\n\n  convertMonths(month) {\n    switch (month) {\n      case 'JANUARI':\n        return \"1\";\n      case 'FEBRUARI':\n        return \"2\";\n      case 'MARET':\n        return \"3\";\n      case 'APRIL':\n        return \"4\";\n      case 'MEI':\n        return \"5\";\n      case 'JUNI':\n        return \"6\";\n      case 'JULI':\n        return \"7\";\n      case 'AGUSTUS':\n        return \"8\";\n      case 'SEPTEMBER':\n        return \"9\";\n      case 'OKTOBER':\n        return \"10\";\n      case 'NOVEMBER':\n        return \"11\";\n      case 'DESEMBER':\n        return \"12\";\n      default:\n        return \"false\";\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2b-catatan/p2b-catatan.ts"],"sourceRoot":""}
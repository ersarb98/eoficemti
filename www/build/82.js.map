{"version":3,"sources":["../../src/pages/absen-bawahan/absen-bawahan.module.ts","../../src/pages/absen-bawahan/absen-bawahan.ts"],"names":[],"mappings":"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","file":"82.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AbsenBawahanPage } from './absen-bawahan';\n\n@NgModule({\n  declarations: [\n    AbsenBawahanPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AbsenBawahanPage),\n  ],\n})\nexport class AbsenBawahanPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/absen-bawahan/absen-bawahan.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass } from '../../config';\nimport { DatePipe } from '@angular/common';\n\n/**\n * Generated class for the AbsenBawahanPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-absen-bawahan',\n  providers: [SoapService],\n  templateUrl: 'absen-bawahan.html',\n})\nexport class AbsenBawahanPage {\n  bulan:any;\n  tahun:any;  \n  bulanList = [];\n  absenList:any;\n  userdataTPK:any;\n  bawahanList = [];\n  dataBawahan:any;\n  tahunList:Array<any> = [];\n  isLoading:Boolean=false;\n  fakeUsers: Array<any> = new Array(5);\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public soapService:SoapService,\n    public storage: Storage,\n    public datepipe: DatePipe,  \n    public toastCtrl: ToastController\n  ) {\n    \n\n    let date = new Date();\n    let currentYear = date.getFullYear();\n    // let lastYear = date.getFullYear() - 1;\n    // let currentMonth = date.getMonth();    \n    // this.bulan = (currentMonth+1).toString();\n    // this.tahun = currentYear;    \n    \n    for (var i = 0; i < 10;i++) {\n      this.tahunList.push(currentYear - i);\n    }\n\n    // this.bulan = (currentMonth+1) + \"_\" + currentYear;    \n\n    // for (var i = currentMonth + 2; i < 13 + (currentMonth+1) ; i++) {\n    //   if (i > 12) {\n    //     // \"Bulan \" + (i-12) + \" tahun \" + currentYear  );\n    //     this.bulanList.push({bulan : (i-12), tahun: currentYear}); \n    //   } else {\n    //    //  \"Bulan \" + (i) + \" tahun \" + lastYear  );\n    //     this.bulanList.push({bulan : (i), tahun: lastYear});\n    //   }      \n    // }     \n  }\n\n  ionViewWillLoad() {\n    let loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mohon Tunggu...\",       \n      cssClass: 'transparent',\n      //dismissOnPageChange:true\n    });\n    loading.present();\n\n    this.storage.get('userdataTPK').then(val => {      \n      this.userdataTPK = val;   \n      console.log(this.userdataTPK['data']['DATA_BAWAHAN']);\n      if (this.userdataTPK['data']['DATA_BAWAHAN'].length > 0) {\n        for (let i = 0; i < this.userdataTPK['data']['DATA_BAWAHAN'].length; i++) {\n          this.bawahanList.push(this.userdataTPK['data']['DATA_BAWAHAN'][i]);\n        }\n      }\n      if (this.userdataTPK['data']['DATA_BAWAHAN_TNO'].length > 0){\n        for (let i = 0; i < this.userdataTPK['data']['DATA_BAWAHAN_TNO'].length; i++) {\n          this.bawahanList.push(this.userdataTPK['data']['DATA_BAWAHAN_TNO'][i]);\n        }        \n      }      \n      loading.dismiss();\n    });   \n  }\n  \n\n\n  ionViewDidLoad() {    \n  }\n\n  getAbsen(bulan, tahun) {\n    var bawahanSplit = this.dataBawahan.split('_');\n    console.log(bawahanSplit[2]);\n    this.isLoading = true;\n    this.soapService.post(api_base_url,'eoffice_absen_list',{fStream:JSON.stringify({\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        nipp : bawahanSplit[2],\n        bulan : bulan,\n        tahun : tahun                \n      }\n    )}).then(result => {\n      var responData = JSON.parse(String(result));            \n      if (responData['rcmsg'] == \"SUCCESS\") {\n        this.absenList = responData['data'];                    \n      } else {        \n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();            \n      } \n      this.isLoading = false;\n    })\n    .catch(error => {      \n      let toast = this.toastCtrl.create({\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();     \n      this.isLoading = false;\n    });    \n  }\n\n  searchBawahan() {\n    this.getAbsen(this.bulan, this.tahun);\n    // this.getAbsen(this.bulan.split('_')[0], this.bulan.split('_')[1]);\n  }\n\n  convertMonths() {\n    switch (this.bulan.split('_')[0]) {\n      case '1':\n          return \"Januari\";          \n      case '2':\n          return \"Februari\";          \n      case '3':\n          return \"Maret\";          \n      case '4':\n          return \"April\";          \n      case '5':\n          return \"Mei\";          \n      case '6':\n          return \"Juni\";          \n      case '7':\n          return \"Juli\";          \n      case '8':\n          return \"Agustus\";\n      case '9':\n          return \"September\";\n      case '10':\n          return \"Oktober\";          \n      case '11':\n          return \"November\";        \n      case '12':\n          return \"Desember\";          \n      default:\n          return \"false\";          \n    }\n  }\n\n  subTanggal(val) {    \n    //val.split(\" - \"));\n    //return val.split(\" \", 1); \n  }\n\n  goToAbsenMobileDetail(absen) {\n    console.log(this.dataBawahan);\n    var bawahanSplit = this.dataBawahan.split('_');\n\n    var tgl = absen['TANGGAL'].split(\" - \");\n    var date = tgl[0];    \n    if (tgl[0] < 10) {\n      date = '0' + tgl[0];\n    }\n    \n    this.navCtrl.push('AbsenMobileDetailPage', {\n      id_user: bawahanSplit[0],\n      nipp: bawahanSplit[2],\n      nama : bawahanSplit[1],\n      shift:\"\",\n      date:date + \"-\" + this.bulan + \"-\" + this.tahun,\n      fromPage:\"AbsenBawahanPage\"\n\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/absen-bawahan/absen-bawahan.ts"],"sourceRoot":""}
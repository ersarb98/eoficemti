{"version":3,"sources":["../../src/pages/address-bawahan/address-bawahan.module.ts","../../src/pages/address-bawahan/address-bawahan.ts"],"names":[],"mappings":"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","file":"69.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddressBawahanPage } from './address-bawahan';\n\n@NgModule({\n  declarations: [\n    AddressBawahanPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddressBawahanPage),\n  ],\n})\nexport class AddressBawahanPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address-bawahan/address-bawahan.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport {api_base_url, api_user, api_pass, api_res} from '../../config';\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { DatePipe } from '@angular/common';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n/**\n * Generated class for the AddressBawahanPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-address-bawahan',\n  providers: [SoapService],\n  templateUrl: 'address-bawahan.html',\n})\nexport class AddressBawahanPage {\n  isLoading: Boolean = false;\n  fakeUsers: Array<any> = new Array(5);\n  userdataTPK: any;\n  addressData = [];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public soapService: SoapService,\n    public storage: Storage,\n    public datepipe: DatePipe,\n    public http: HttpClient,\n    public alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public toastCtrl:ToastController\n    ) {\n      this.storage.get('userdataTPK').then(val => {\n        this.userdataTPK = val;\n        console.log(this.userdataTPK);\n        this.getData('first','');\n      });\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddressBawahanPage');\n  }\n\n  getData(type, functionName) {\n    this.isLoading = true;\n    this.http.post(api_res + \"am9_address.php\", {\n      \"usernameEDI\": \"EDI-USERNAME\",\n      \"passwordEDI\": \"RURJLVBBU1NXT1JE\",\n      \"id_user\":this.userdataTPK['data']['IDUSER'],\n      \"nipp\":this.userdataTPK['data']['NIPP'],\n      \"id_jabatan\":this.userdataTPK['data']['IDJABATAN'],\n      \"longitude\":\"\",\n      \"latitude\":\"\",\n      \"action\":\"get_address_bawahan\",      \n      \"status\":\"\"\n    }, {\n      // headers\n    }).subscribe(data => {\n      console.log(data);\n      if (data['rcmsg'] == \"SUCCESS\") {\n        this.addressData = data['data'];          \n        \n      } else {\n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal mendapatkan data, coba kembali.',\n          buttons: ['OK']\n        });\n        alert.present();        \n        this.navCtrl.pop();      \n      }            \n      console.log(this.addressData) ;\n\n      if (type == 'first' && functionName == '') {\n          \n      } else if (type == 'infinite' && functionName != '') {\n        functionName.complete();\n      } else if (type == 'refresh' && functionName != '') {\n        functionName.complete();\n      }\n      this.isLoading = false;\n    }, err => {\n      console.log(err);\n      let alert = this.alertCtrl.create({\n        title: '',\n        subTitle: 'Gagal mendapatkan data, coba kembali.',\n        buttons: ['OK']\n      });\n      alert.present();   \n      this.isLoading = false;             \n      this.navCtrl.pop();\n    });\n  }\n\n  doAction(address) {\n    let alert = this.alertCtrl.create({\n      subTitle: 'Pilih Action ?',\n      cssClass: 'alert',\n      buttons: [\n       \n        {\n          text: 'APPROVE',\n          handler: () => {\n            this.action('APPROVED',address);\n          }\n        },\n        {\n          text: 'REJECT',\n          handler: () => {\n            this.action('REJECTED',address);\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n\n          }\n        }\n\n      ]\n    });\n    alert.present();\n\n    \n  }\n\n  action(status,address) {\n    let loader = this.loadingCtrl.create({\n      content: \"Memproses...\",\n      spinner: 'dots',\n      cssClass: 'transparent',\n      dismissOnPageChange: true\n\n    });\n    loader.present();   \n\n    this.http.post(api_res + \"am9_address.php\", {\n      \"usernameEDI\": \"EDI-USERNAME\",\n      \"passwordEDI\": \"RURJLVBBU1NXT1JE\",\n      \"id_user\":'',\n      \"nipp\":address['NIPP'],\n      \"id_jabatan\":'',\n      \"longitude\":address['LONGITUDE'],\n      \"latitude\":address['LATITUDE'],\n      \"action\":\"update\",      \n      \"status\":status\n    }, {\n      // headers\n    }).subscribe(data => {\n      console.log(data);\n      if (data['rcmsg'] == \"SUCCESS\") {\n        let toast = this.toastCtrl.create({\n          message: \"berhasil \" + status,\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        this.addressData.splice(this.addressData.indexOf(address),1);\n       \n      } else {\n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal melakukan action, coba kembali.',\n          buttons: ['OK']\n        });\n        alert.present();                  \n      }            \n      console.log(this.addressData) ;\n      loader.dismiss();\n    }, err => {\n      console.log(err);\n      let alert = this.alertCtrl.create({\n        title: '',\n        subTitle: 'Gagal melakukan action, coba kembali.',\n        buttons: ['OK']\n      });\n      alert.present(); \n      loader.dismiss();        \n    });\n  }\n\n  doRefresh(refresher) {    \n    this.addressData = [];\n    this.getData('refresh', refresher);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address-bawahan/address-bawahan.ts"],"sourceRoot":""}
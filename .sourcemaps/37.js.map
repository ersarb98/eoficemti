{"version":3,"sources":["../../src/pages/p2b-remark/p2b-remark.module.ts","../../src/pages/p2b-remark/p2b-remark.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACH;AAU7C;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAR/B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,kEAAa;aACd;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,kEAAa,CAAC;aACxC;SACF,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZU;AACoE;AACrE;AAC6C;AACxC;AAE9C;;;;;GAKG;AAQH;IASE,uBACS,OAAsB,EACtB,SAAoB,EACpB,OAAgB,EAChB,WAA8B,EAC9B,SAA0B,EAC1B,WAAwB,EACxB,SAA0B;QAN1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,YAAO,GAAP,OAAO,CAAS;QAChB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,cAAS,GAAT,SAAS,CAAiB;QAbnC,cAAS,GAAS,KAAK,CAAC;QACxB,eAAU,GAAc,EAAE,CAAC;QAC3B,eAAU,GAAG,CAAC,CAAC;QACf,cAAS,GAAG,EAAE,CAAC;QAYb,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IAC3B,CAAC;IAED,sCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;IAC9C,CAAC;IAED,8BAAM,GAAN,UAAO,IAAI,EAAE,YAAY;QAAzB,iBAkEC;QAhEC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,WAAW;aACf,IAAI,CAAC,4DAAW,EAAC,qBAAqB,EAAC,EAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CAC7D,EAAI,WAAW,EAAG,yDAAQ;gBACtB,WAAW,EAAG,yDAAQ;gBACtB,OAAO,EAAG,IAAI,CAAC,MAAM;gBACrB,IAAI,EAAG,IAAI,CAAC,SAAS;gBACrB,KAAK,EAAG,IAAI,CAAC,UAAU;aAC1B,CACF,EAAC,CAAC,CAAC,IAAI,CAAC,gBAAM;YACb,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;oBAC5C,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACvB,CAAC;gBACD,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAChF,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnD,IAAI,QAAQ,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;wBACjE,IAAI,GAAG,UAAC;wBACR,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BAChB,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC;wBACnB,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,GAAG,GAAG,GAAG;wBACX,CAAC;wBACD,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;4BACnB,IAAI,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;4BACnC,QAAQ,EAAI,QAAQ,CAAC,CAAC,CAAC;4BACvB,UAAU,EAAE,GAAG;4BACf,GAAG,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;yBACxC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,OAAO,EAAE,+DAA+D;oBACxE,QAAQ,EAAE,IAAI;oBACd,QAAQ,EAAE,QAAQ;iBACnB,CAAC,CAAC;gBACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,YAAY,IAAI,EAAG,CAAC,CAAC,CAAC;gBAC3C,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,UAAU,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACpD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACV,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,OAAO,EAAE,iDAAiD;gBAC1D,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,QAAQ;aACnB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,EAAE,CAAC,CAAC,IAAI,IAAI,OAAO,IAAI,YAAY,IAAI,EAAG,CAAC,CAAC,CAAC;gBAC3C,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,UAAU,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACpD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,SAAS,IAAI,YAAY,IAAI,EAAE,CAAC,CAAC,CAAC;gBACnD,YAAY,CAAC,QAAQ,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAU,GAAV,UAAW,cAAc;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACtF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACtC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;QAC1C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC;IAEH,CAAC;IAED,iCAAS,GAAT,UAAU,SAAS;QACjB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,CAAC,SAAS,EAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IAED,sCAAc,GAAd;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,iBAAiB;YAC1B,QAAQ,EAAE,aAAa;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,sCAAc,GAAd;QACE,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC;IACH,CAAC;IAED,qCAAa,GAAb,UAAc,GAAG;QACf,GAAG,EAAC,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;QACJ,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAvIU,aAAa;QALzB,wEAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;YAC3B,SAAS,EAAE,CAAC,kEAAW,CAAC;WACM;SAC/B,CAAC;6EAW+B;YACX,gEAAS;YACX,wEAAO;YACH,uEAAiB;YACnB,mEAAe;YACb,sEAAW;YACb,UAAe;OAhBxB,aAAa,CAyIzB;IAAD,CAAC;AAAA;SAzIY,aAAa,gB","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { P2bRemarkPage } from './p2b-remark';\n\n@NgModule({\n  declarations: [\n    P2bRemarkPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(P2bRemarkPage),\n  ],\n})\nexport class P2bRemarkPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2b-remark/p2b-remark.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass, sc_code, api_p2b_url } from '../../config';\nimport { SoapService } from '../soap.service';\n\n/**\n * Generated class for the P2bRemarkPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-p2b-remark',\n  providers: [SoapService],\n  templateUrl: 'p2b-remark.html',\n})\nexport class P2bRemarkPage {\n  idEval:any;\n  loading:any;\n  isLoading:boolean=false;  \n  remarkList:Array<any> = [];\n  batasBawah = 0;\n  batasAtas = 10;\n  \n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public storage: Storage,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public soapService: SoapService, \n    public toastCtrl: ToastController   \n  ) {\n    this.idEval = navParams.get('idEval');\n    this.loadingPresent();\n    this.getLog('first', '');\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad P2bRemarkPage');\n  }\n\n  getLog(type, functionName) {    \n    \n    this.isLoading = true;\n    this.soapService\n    .post(api_p2b_url,'eoffice_p2b_remarks',{fStream:JSON.stringify(\n      {   usernameEDI : api_user,\n          passwordEDI : api_pass,\n          id_eval : this.idEval, \n          atas : this.batasAtas,\n          bawah : this.batasBawah\n      }    \n    )}).then(result => {\n      var responData = JSON.parse(String(result));    \n      if (responData['rcmsg'] == \"SUCCESS\") {    \n        if (type == 'refresh' && functionName != '') {\n          this.remarkList = [];\n        }    \n        if (responData['data'].length > 0 && !this.isEmptyObject(responData['data'][0])) {\n          for (var i = 0; i < responData['data'].length; i++) {\n            let splitted = responData['data'][i]['REMARKS'].split(\" <br/> \");        \n            let ket;\n            if (splitted[1]) {\n              ket = splitted[1]\n            } else {\n              ket = \"-\"\n            }\n            this.remarkList.push({\n              NAMA: responData['data'][i]['NAMA'],\n              KEGIATAN:   splitted[0],\n              KETERANGAN: ket,\n              TGL: responData['data'][i]['TGL_ENTRY']\n            });\n          }\n        }        \n      } else {\n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();  \n      } \n      \n      if (type == 'first' && functionName == '' ) {\n        this.loadingDismiss();\n      } else if (type == 'infinite' && functionName != '') {\n        functionName.complete();\n      } else if (type == 'refresh' && functionName != '') {\n        functionName.complete();\n      }      \n    })\n    .catch(error => {      \n      let toast = this.toastCtrl.create({\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();               \n      if (type == 'first' && functionName == '' ) {\n        this.loadingDismiss();        \n      } else if (type == 'infinite' && functionName != '') {\n        functionName.complete();\n      } else if (type == 'refresh' && functionName != '') {\n        functionName.complete();        \n      }\n    });\n  }\n\n  doInfinite(infiniteScroll) {\n    if (this.remarkList.length >= 10) {\n      this.batasBawah = (this.batasBawah == 0) ? this.batasBawah + 11 : this.batasBawah + 9;\n      this.batasAtas = this.batasBawah + 10;    \n      this.getLog('infinite', infiniteScroll);  \n    } else {\n      infiniteScroll.complete();\n    }\n    \n  }\n\n  doRefresh(refresher) {\n    this.batasAtas = 1;\n    this.batasBawah = 20;\n\n    this.getLog('refresh',refresher);\n  }\n\n  loadingPresent() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mohon Tunggu...\",       \n      cssClass: 'transparent',      \n    });\n    this.loading.present();\n  }\n\n  loadingDismiss() {\n    if(this.loading.present()) {\n      this.loading.dismiss(); \n    }\n  }\n\n  isEmptyObject(obj) {\n    for(var prop in obj) {\n       if (obj.hasOwnProperty(prop)) {\n          return false;\n       }\n    } \n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/p2b-remark/p2b-remark.ts"],"sourceRoot":""}
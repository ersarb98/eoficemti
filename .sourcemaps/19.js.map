{"version":3,"sources":["../../src/pages/search-restitusi/search-restitusi.module.ts","../../src/pages/search-restitusi/search-restitusi.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchRestitusiPage } from './search-restitusi';\n\n@NgModule({\n  declarations: [\n    SearchRestitusiPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchRestitusiPage),\n  ],\n})\nexport class SearchRestitusiPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-restitusi/search-restitusi.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, AlertController, ToastController } from 'ionic-angular';\r\nimport {DatePicker} from '@ionic-native/date-picker';\r\nimport { DatePipe } from '@angular/common';\r\nimport { SoapService } from '../soap.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { api_base_url, api_user, api_pass,sc_code } from '../../config';\r\nimport { Platform } from 'ionic-angular';\r\nimport { CurrencyPipe } from '@angular/common';\r\n\r\n\r\n/**\r\n * Generated class for the SearchRestitusiPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search-restitusi',\r\n  providers: [SoapService],\r\n  templateUrl: 'search-restitusi.html',\r\n})\r\nexport class SearchRestitusiPage {\r\n  startDate:any;\r\n  endDate:any;\r\n  statusRestitusi:any;\r\n  nomorRestitusi:any;\r\n\r\n  restitusiList:Array<any> = [];\r\n  loading:any;\r\n  batasAtas = 1;\r\n  batasBawah = 50;\r\n  isLoading:boolean = true;\r\n  userdata:any;\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams,\r\n    public viewCtrl:ViewController,     \r\n    public storage: Storage,        \r\n    public loadingCtrl: LoadingController,\r\n    public soapService: SoapService,\r\n    public alertCtrl: AlertController,  \r\n    public datePipe: DatePipe,\r\n    public datePicker: DatePicker,\r\n    public platform: Platform,\r\n    public currencyPipe: CurrencyPipe,\r\n    public toastCtrl: ToastController\r\n  ) {\r\n    this.storage.get('userdata').then(val => {      \r\n      this.userdata = val;                    \r\n    }); \r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SearchRestitusiPage');\r\n  }\r\n\r\n  showDatePicker(type:number) {\r\n    this.datePicker.show({\r\n      date: new Date(),\r\n      mode: 'date',\r\n      //minDate: this.platform.is('ios') ? new Date() : (new Date()).valueOf(),    \r\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_LIGHT\r\n    }).then(date => {\r\n        if (type == 1) {\r\n          this.startDate = this.datePipe.transform(date, 'dd-MM-yyyy'); \r\n        } else if (type == 2) {   \r\n          this.endDate = this.datePipe.transform(date, 'dd-MM-yyyy');        \r\n        }\r\n      },\r\n      err => console.log('Error occurred while getting date: ', err)\r\n    );\r\n  }\r\n\r\n  doSearch() {\r\n    // console.log(this.perihal);\r\n    // console.log(this.tglMulai);\r\n    // console.log(this.tglMulai);\r\n    // console.log(this.penanggungJawab);\r\n    console.log('do search');\r\n    this.getSppdList();\r\n  }\r\n\r\n  getSppdList() {\r\n    let loading = this.loadingCtrl.create({\r\n      spinner: 'dots',\r\n      content: \"Mohon Tunggu...\",       \r\n      cssClass: 'transparent',\r\n      dismissOnPageChange:true\r\n    });\r\n    loading.present();\r\n    this.isLoading = true;\r\n    console.log(this.userdata['data']['NIPP']);\r\n    this.soapService\r\n    .post(api_base_url,'eoffice_bypass_wso',{fStream:JSON.stringify(\r\n      {\r\n        sc_type: 'searchrestitusi',\r\n        sc_code: sc_code,        \r\n        data : {\r\n          person_id : this.userdata['data']['PERSON_ID'], \r\n          no_restitusi: this.nomorRestitusi,\r\n          status_restitusi: this.statusRestitusi,\r\n          tgl_pengajuan: this.startDate,\r\n          tgl_pengajuan_akhir: this.endDate,       \r\n          atas : this.batasAtas,\r\n          bawah : this.batasBawah\r\n        }         \r\n      }\r\n    )}).then(result => {\r\n      var responData = JSON.parse(String(result));\r\n            console.log(responData);\r\n      if (responData['rcmsg'] == \"SUCCESS\") {            \r\n        this.restitusiList = [];          \r\n        if (responData['data'].length > 0 && !this.isEmptyObject(responData['data'][0])) {\r\n          for (var i = 0; i < responData['data'].length; i++) {\r\n            this.restitusiList.push(responData['data'][i]);\r\n          }\r\n        }\r\n        console.log(this.restitusiList);        \r\n      } else {\r\n        let toast = this.toastCtrl.create({\r\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\r\n          duration: 3000,\r\n          position: 'bottom'\r\n        });\r\n        toast.present();           \r\n      }        \r\n      loading.dismiss(); \r\n      this.isLoading = false;\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      let toast = this.toastCtrl.create({\r\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\r\n        duration: 3000,\r\n        position: 'bottom'\r\n      });\r\n      toast.present();   \r\n      loading.dismiss();\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  \r\n  closeModal(){\r\n  \t this.viewCtrl.dismiss();\r\n  }  \r\n\r\n  convertCurrency(  money) {    \r\n    if (money != '') {\r\n      let hasil = this.currencyPipe.transform(money,'IDR');\r\n      return hasil.substr(3);\r\n    } else {\r\n      return '0';\r\n    }\r\n  }\r\n\r\n  isEmptyObject(obj) {\r\n    for(var prop in obj) {\r\n       if (obj.hasOwnProperty(prop)) {\r\n          return false;\r\n       }\r\n    }  \r\n    return true;\r\n  }  \r\n\r\n  clearField() {\r\n    this.nomorRestitusi = '';\r\n    this.statusRestitusi = '';\r\n    this.startDate = '';\r\n    this.endDate = '';\r\n  }\r\n\r\n  checkFocus(data) {\r\n    this.showDatePicker(data);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-restitusi/search-restitusi.ts"],"sourceRoot":""}
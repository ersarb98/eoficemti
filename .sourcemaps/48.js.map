{"version":3,"sources":["../../src/pages/log-surat/log-surat.module.ts","../../src/pages/log-surat/log-surat.ts"],"names":[],"mappings":"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","file":"48.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LogSuratPage } from './log-surat';\n\n@NgModule({\n  declarations: [\n    LogSuratPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LogSuratPage),\n  ],\n})\nexport class LogSuratPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/log-surat/log-surat.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass, sc_code } from '../../config';\nimport { SoapService } from '../soap.service';\n/**\n * Generated class for the LogSuratPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-log-surat',\n  providers: [SoapService],\n  templateUrl: 'log-surat.html',\n})\nexport class LogSuratPage {\n  idSurat:any;\n  loading:any;\n  isLoading:boolean=false;\n  logList:Array<any> = [];\n  batasAtas = 1;\n  batasBawah = 20;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public storage: Storage,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public soapService: SoapService, \n    public toastCtrl: ToastController   \n  ) {\n    this.idSurat = navParams.get('idSurat');\n    this.loadingPresent();\n    this.getLog('first', '');\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LogSuratPage');\n  }\n\n  getLog(type, functionName) {    \n    \n    this.isLoading = true;\n    this.soapService\n    .post(api_base_url,'eoffice_log_surat',{fStream:JSON.stringify(\n      {   usernameEDI : api_user,\n          passwordEDI : api_pass,\n          id_surat : atob(this.idSurat), \n          atas : this.batasAtas,\n          bawah : this.batasBawah\n      }    \n    )}).then(result => {\n      var responData = JSON.parse(String(result));      \n      if (responData['rcmsg'] == \"SUCCESS\") {    \n        if (type == 'refresh' && functionName != '') {\n          this.logList = [];\n        }    \n        if (responData['data']['Log_Surat'].length > 0 && !this.isEmptyObject(responData['data']['Log_Surat'][0])) {\n          for (var i = 0; i < responData['data']['Log_Surat'].length; i++) {\n            this.logList.push(responData['data']['Log_Surat'][i]);\n          }\n        }           \n      } else {\n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();  \n      } \n      \n      if (type == 'first' && functionName == '' ) {\n        this.loadingDismiss();\n      } else if (type == 'infinite' && functionName != '') {\n        functionName.complete();\n      } else if (type == 'refresh' && functionName != '') {\n        functionName.complete();\n      }      \n    })\n    .catch(error => {      \n      let toast = this.toastCtrl.create({\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();     \n            \n      if (type == 'first' && functionName == '' ) {\n        this.loadingDismiss();        \n      } else if (type == 'infinite' && functionName != '') {\n        functionName.complete();\n      } else if (type == 'refresh' && functionName != '') {\n        functionName.complete();        \n      }\n    });\n  }\n\n  doInfinite(infiniteScroll) {\n    if (this.logList.length >= 10) {\n      this.batasAtas = this.batasBawah + 1;\n      this.batasBawah = this.batasBawah + 20;\n      this.getLog('infinite', infiniteScroll);  \n    } else {\n      infiniteScroll.complete();\n    }\n    \n  }\n\n  doRefresh(refresher) {\n    this.batasAtas = 1;\n    this.batasBawah = 20;\n\n    this.getLog('refresh',refresher);\n  }\n\n  loadingPresent() {\n    this.loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mohon Tunggu...\",       \n      cssClass: 'transparent',      \n    });\n    this.loading.present();\n  }\n\n  loadingDismiss() {\n    if(this.loading.present()) {\n      this.loading.dismiss(); \n    }\n  }\n\n  isEmptyObject(obj) {\n    for(var prop in obj) {\n       if (obj.hasOwnProperty(prop)) {\n          return false;\n       }\n    } \n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/log-surat/log-surat.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/outbox/outbox.module.ts","../../src/pages/outbox/outbox.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAUtC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAR3B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAU;aACX;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC;aACrC;SACF,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AACqF;AAEjF;AACL;AACyC;AAClF;;;;;GAKG;AAQH;IAYE,oBACS,OAAsB,EACtB,SAAoB,EACpB,WAAuB,EACvB,WAA6B,EAC7B,OAAe,EACf,SAAyB,EACzB,SAA0B,EAC1B,SAA0B;QAP1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAY;QACvB,gBAAW,GAAX,WAAW,CAAkB;QAC7B,YAAO,GAAP,OAAO,CAAQ;QACf,cAAS,GAAT,SAAS,CAAgB;QACzB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAnBnC,aAAQ,GAAe,EAAE,CAAC;QAC1B,cAAS,GAAW,IAAI,CAAC;QAEzB,YAAO,GAAG,CAAC,CAAC;QACZ,aAAQ,GAAW,KAAK,CAAC;QAEzB,cAAS,GAAG,CAAC,CAAC;QACd,eAAU,GAAG,EAAE,CAAC;QAEhB,cAAS,GAAe,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IAarC,CAAC;IAED,qCAAgB,GAAhB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IAED,oCAAe,GAAf;QAAA,iBAKC;QAJC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,aAAG;YACtC,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;YACvB,KAAI,CAAC,WAAW,CAAC,GAAG,EAAC,KAAI,CAAC,OAAO,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC1C,CAAC;IAED,gCAAW,GAAX,UAAY,GAAG,EAAE,GAAG;QAApB,iBA6CC;QA3CC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,WAAW;aACf,IAAI,CAAC,6DAAY,EAAC,gBAAgB,EAAC,EAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CACzD;gBACE,WAAW,EAAG,yDAAQ;gBACtB,WAAW,EAAG,yDAAQ;gBACtB,MAAM,EAAG,GAAG,CAAC,IAAI,CAAC,MAAM;gBACxB,SAAS,EAAG,GAAG,CAAC,IAAI,CAAC,SAAS;gBAC9B,IAAI,EAAG,GAAG;gBACV,OAAO,EAAG,IAAI;gBACd,OAAO,EAAG,EAAE;gBACZ,WAAW,EAAG,EAAE;gBAChB,YAAY,EAAG,EAAE;aAClB,CACF,EAAC,CAAC,CAAC,IAAI,CAAC,gBAAM;YACb,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YACtC,2BAA2B;YACjC,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,CAAE,CAAC,CAAC,CAAC;oBAClD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC;gBACH,CAAC;YAEH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,yBAAyB;oBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;iBAChB,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACV,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAU,GAAV,UAAW,OAAO;QAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAC;YACnC,WAAW,EAAE,OAAO;YACpB,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;SACvC,CAAC,CAAC;IACL,CAAC;IAED,+BAAU,GAAV,UAAW,cAAc;QAAzB,iBA6CC;QA5CC,IAAI,CAAC,OAAO,EAAE,CAAC;QAEf,IAAI,CAAC,WAAW;aACf,IAAI,CAAC,6DAAY,EAAC,gBAAgB,EAAC,EAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CACzD;gBACE,WAAW,EAAG,yDAAQ;gBACtB,WAAW,EAAG,yDAAQ;gBACtB,MAAM,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM;gBACrC,SAAS,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS;gBAC3C,IAAI,EAAG,IAAI,CAAC,OAAO;gBACnB,OAAO,EAAG,IAAI;gBACd,OAAO,EAAG,EAAE;gBACZ,WAAW,EAAG,EAAE;gBAChB,YAAY,EAAG,EAAE;gBACjB,OAAO,EAAG,GAAG;aACd,CACF,EAAC,CAAC,CAAC,IAAI,CAAC,gBAAM;YACb,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBACjD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC;gBACH,CAAC;YAEH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,yBAAyB;oBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;iBAChB,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACV,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8BAAS,GAAT,UAAU,SAAS;QAAnB,iBA8CC;QA7CC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QAEjB,IAAI,CAAC,WAAW;aACf,IAAI,CAAC,6DAAY,EAAC,gBAAgB,EAAC,EAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CACzD;gBACE,WAAW,EAAG,yDAAQ;gBACtB,WAAW,EAAG,yDAAQ;gBACtB,MAAM,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM;gBACrC,SAAS,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS;gBAC3C,IAAI,EAAG,IAAI,CAAC,OAAO;gBACnB,OAAO,EAAG,IAAI;gBACd,OAAO,EAAG,EAAE;gBACZ,WAAW,EAAG,EAAE;gBAChB,YAAY,EAAG,EAAE;aAClB,CACF,EAAC,CAAC,CAAC,IAAI,CAAC,gBAAM;YACb,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC;gBACrC,EAAE,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC9G,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;oBACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAClE,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC3D,CAAC;gBACH,CAAC;YAEH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,yBAAyB;oBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;iBAChB,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,SAAS,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC,CAAC;aACD,KAAK,CAAC,eAAK;YACV,IAAI,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,yBAAyB;gBACnC,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,SAAS,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,+BAAU,GAAV;QACE,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IACjC,CAAC;IAED,iCAAY,GAAZ;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAC;YAClC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,IAAI,EAAE,QAAQ;SACf,CAAC;IACJ,CAAC;IAED,8BAAS,GAAT,UAAU,IAAI;QACZ,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,EAAC,EACtC,EAAE;YACD,qBAAqB,EAAE,IAAI;YAC3B,YAAY,EAAC,IAAI;SAElB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,kCAAa,GAAb,UAAc,GAAG;QACf,GAAG,EAAC,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,KAAK,CAAC;YAChB,CAAC;QACJ,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IA5NU,UAAU;QALtB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,SAAS,EAAE,CAAC,kEAAW,CAAC;WACE;SAC3B,CAAC;6EAc+B;YACX,kEAAS;YACR,wEAAW;YACX,gEAAiB;YACrB,sEAAO;YACL,sEAAe;YACd,sEAAe;YACf,OAAe;OApBxB,UAAU,CA6NtB;IAAD,CAAC;AAAA;SA7NY,UAAU,e","file":"40.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OutboxPage } from './outbox';\n\n@NgModule({\n  declarations: [\n    OutboxPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OutboxPage),\n  ],\n})\nexport class InboxPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/outbox/outbox.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ToastController } from 'ionic-angular';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass, sc_type, sc_code } from '../../config';\n/**\n * Generated class for the InboxPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-outbox',  \n  providers: [SoapService],\n  templateUrl: 'outbox.html', \n}) \nexport class OutboxPage {\n  messages: Array<any> = [];\n  isLoading:boolean = true;\n  userdataTPK:any; \n  halaman = 1;\n  isSearch:boolean = false;\n  inputSearch:any;\n  batasAtas = 1;\n  batasBawah = 20;\n  loading:any;\n  fakeUsers: Array<any> = new Array(5);\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,     \n    public soapService:SoapService,\n    public loadingCtrl:LoadingController,\n    public storage:Storage, \n    public alertCtrl:AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController\n  ) {\n    \n  }\n\n  ionViewWillEnter() {\n    if (this.isSearch) {\n      this.showSearch();\n    }\n  }\n\n  ionViewWillLoad() {    \n    this.storage.get('userdataTPK').then(val => {      \n      this.userdataTPK = val;            \n      this.getMessages(val,this.halaman);\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad InboxPage');\n  }  \n\n  getMessages(val, hal) {    \n    \n    this.isLoading = true;\n    this.soapService\n    .post(api_base_url,'eoffice_outbox',{fStream:JSON.stringify(\n      {\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        iduser : val.data.IDUSER,\n        idjabatan : val.data.IDJABATAN,\n        page : hal,\n        jmlpage : \"10\",\n        perihal : \"\",\n        tanggalawal : \"\",\n        tanggalakhir : \"\"        \n      }\n    )}).then(result => {\n      var responData = JSON.parse(String(result));\n            // console.log(responData);\n      if (responData['rcmsg'] == \"SUCCESS\") {\n        if (responData['data']['List Outbox'].length > 0 ) {\n          for (var i = 0; i < responData['data']['List Outbox'].length; i++) {\n            this.messages.push(responData['data']['List Outbox'][i]);\n          }          \n        }                        \n        \n      } else {\n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal mendapatkan pesan',\n          buttons: ['OK']\n        });\n        alert.present();\n      }       \n      this.isLoading = false;  \n    })\n    .catch(error => {      \n      let alert = this.alertCtrl.create({\n        title: '',\n        subTitle: 'Gagal mendapatkan pesan',\n        buttons: ['OK']\n      });\n      alert.present();      \n      this.isLoading = false;\n    });\n  }\n\n  goToDetail(message) {\n    this.navCtrl.push(\"OutboxDetailPage\",{\n      messageData: message,\n      nipp: this.userdataTPK['data']['NIPP']\n    });\n  }\n\n  doInfinite(infiniteScroll) {\n    this.halaman++;\n    \n    this.soapService\n    .post(api_base_url,'eoffice_outbox',{fStream:JSON.stringify(    \n      {\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        iduser : this.userdataTPK.data.IDUSER,\n        idjabatan : this.userdataTPK.data.IDJABATAN,\n        page : this.halaman,\n        jmlpage : \"10\",\n        perihal : \"\",\n        tanggalawal : \"\",\n        tanggalakhir : \"\",\n        sorting : \"0\"        \n      }\n    )}).then(result => {\n      var responData = JSON.parse(String(result));            \n      if (responData['rcmsg'] == \"SUCCESS\") {\n        if (responData['data']['List Outbox'].length > 0) {\n          for (var i = 0; i < responData['data']['List Outbox'].length; i++) {\n            this.messages.push(responData['data']['List Outbox'][i]);\n          }          \n        }                        \n        \n      } else {\n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal mendapatkan pesan',\n          buttons: ['OK']\n        });\n        alert.present();\n      }      \n      infiniteScroll.complete();             \n    })\n    .catch(error => {      \n      let alert = this.alertCtrl.create({\n        title: '',\n        subTitle: 'Gagal mendapatkan pesan',\n        buttons: ['OK']\n      });\n      alert.present();          \n      infiniteScroll.complete();    \n    });\n  }\n\n  doRefresh(refresher) {    \n    this.halaman = 1;\n\n    this.soapService\n    .post(api_base_url,'eoffice_outbox',{fStream:JSON.stringify(\n      {\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        iduser : this.userdataTPK.data.IDUSER,\n        idjabatan : this.userdataTPK.data.IDJABATAN,\n        page : this.halaman,\n        jmlpage : \"10\",\n        perihal : \"\",\n        tanggalawal : \"\",\n        tanggalakhir : \"\",      \n      }\n    )}).then(result => {\n      var responData = JSON.parse(String(result));            \n      if (responData['rcmsg'] == \"SUCCESS\") {\n        if (responData['data']['List Outbox'].length > 0 && !this.isEmptyObject(responData['data']['List Outbox'][0])) {\n          this.messages = [];\n          for (var i = 0; i < responData['data']['List Outbox'].length; i++) {\n            this.messages.push(responData['data']['List Outbox'][i]);\n          }          \n        }                                \n        \n      } else {\n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal mendapatkan pesan',\n          buttons: ['OK']\n        });\n        alert.present();\n      }      \n      refresher.complete();            \n    })\n    .catch(error => {      \n      let alert = this.alertCtrl.create({\n        title: '',\n        subTitle: 'Gagal mendapatkan pesan',\n        buttons: ['OK']\n      });\n      alert.present();          \n      refresher.complete();    \n    });\n      \n  }\n\n  showSearch() {\n    this.isSearch = !this.isSearch;\n  }\n  \n  submitSearch() {    \n    this.navCtrl.push('InboxSearchPage',{\n      inputSearch: this.inputSearch,\n      userdataTPK: this.userdataTPK,\n      type: 'outbox'\n    })\n  } \n\n  showModal(page) {\n    let modal = this.modalCtrl.create(page,{      \n    }, {\n      enableBackdropDismiss: true,\n      showBackdrop:true,\n      //cssClass:'my-modal2'\n    });\n    modal.present();\n  }\n\n  isEmptyObject(obj) {\n    for(var prop in obj) {\n       if (obj.hasOwnProperty(prop)) {\n          return false;\n       }\n    } \n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/outbox/outbox.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/koreksi-absen-personal/koreksi-absen-personal.module.ts","../../src/pages/koreksi-absen-personal/koreksi-absen-personal.ts"],"names":[],"mappings":"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","file":"49.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { KoreksiAbsenPersonalPage } from './koreksi-absen-personal';\n\n@NgModule({\n  declarations: [\n    KoreksiAbsenPersonalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(KoreksiAbsenPersonalPage),\n  ],\n})\nexport class KoreksiAbsenPersonalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/koreksi-absen-personal/koreksi-absen-personal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, AlertController, ToastController  } from 'ionic-angular';\n\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass } from '../../config';\n\n/**\n * Generated class for the KoreksiAbsenPersonalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-koreksi-absen-personal',\n  providers: [SoapService],\n  templateUrl: 'koreksi-absen-personal.html',\n})\nexport class KoreksiAbsenPersonalPage {\n  ApprovalForm:FormGroup;\n  userdataTPK:any;\n  dataAbsen:any;\n  jenisAbsen:any;\n  errorMsg:any;\n  alasanList:any = [];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private _fb: FormBuilder,\n    public viewCtrl:ViewController,\n    public soapService:SoapService,\n    public storage: Storage,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public toastCtrl: ToastController\n  ) {   \n\n    this.userdataTPK = navParams.get('userdataTPK');\n    this.dataAbsen = navParams.get('dataAbsen');\n    this.jenisAbsen = navParams.get('jenisAbsen');    \n\n    this.ApprovalForm = this._fb.group({\n      fcAlasan: ['', Validators.compose([\n        Validators.required\n      ])],\n      fcJmlHari: [1, Validators.compose([\n        Validators.required\n      ])],\n      fcKeterangan: ['', Validators.compose([\n        Validators.required\n      ])]\n    });\n\n    this.getAlasan();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad KoreksiAbsenPersonalPage');\n  }\n\n  getAlasan() {\n    let loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mohon Tunggu...\",       \n      cssClass: 'transparent',\n      dismissOnPageChange:true\n    });\n    loading.present();\n    this.soapService.post(api_base_url,'eoffice_absen_alasan',{fStream:JSON.stringify({\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        nipp : this.userdataTPK['data']['NIPP'],\n        id_user: this.userdataTPK['data']['IDUSER'],\n        tno: this.userdataTPK['data']['TNO']      \n      }\n    )}).then(result => {\n      var responData = JSON.parse(String(result));            \n      if (responData['rcmsg'] == \"SUCCESS\") {         \n        this.alasanList = [];\n        this.alasanList = responData['data'];   \n\n      } else {        \n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present(); \n      } \n      loading.dismiss();\n    })\n    .catch(error => {      \n      let toast = this.toastCtrl.create({\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();\n      loading.dismiss();\n    });\n  }\n\n  submit() {  \n    if (this.ApprovalForm.controls.fcJmlHari.value < 1 ) {\n      this.errorMsg = \"*Jumlah hari tidak boleh 0\";\n    } else {\n      let loading = this.loadingCtrl.create({\n        spinner: 'dots',\n        content: \"Mohon Tunggu...\",       \n        cssClass: 'transparent',\n        dismissOnPageChange:true\n      });\n      loading.present();\n      this.soapService.post(api_base_url,'eoffice_absen_koreksi',{fStream:JSON.stringify({\n          usernameEDI : api_user, \n          passwordEDI : api_pass, \n          nipp : this.userdataTPK['data']['NIPP'],\n          id_absen: this.dataAbsen['ID'],\n          jenis_absen: this.jenisAbsen,\n          absen_hari: this.ApprovalForm.controls.fcJmlHari.value,\n          keterangan:  this.ApprovalForm.controls.fcKeterangan.value,\n          alasan:  this.ApprovalForm.controls.fcAlasan.value\n        }\n      )}).then(result => {\n        var responData = JSON.parse(String(result)); \n        // console.log(responData)           ;\n        if (responData['rcmsg'] == \"SUCCESS\") {          \n          let toast = this.toastCtrl.create({\n            message: 'Koreksi Absen Berhasil',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n          this.viewCtrl.dismiss({isCancel:false}).then(() => {\n            this.sendNotif();\n          });\n  \n        } else {        \n          let toast = this.toastCtrl.create({\n            message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present(); \n        } \n        loading.dismiss();\n      })\n      .catch(error => {        \n        let toast = this.toastCtrl.create({\n          message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        loading.dismiss();\n      });   \n    }   \n  }\n\n  sendNotif() {\n    this.soapService\n    .post(api_base_url,'eoffice_notif_imove_nipp',{fStream:JSON.stringify(\n      {\n        usernameEDI : api_user, \n        passwordEDI : api_pass,\n        nipp\t\t: [],\n        data\t\t: {\n          \"res\": \"KoreksiAbsenBawahanPage\"          \n        },\n        content\t: {\n          \"en\": \"Pengajuan Koreksi Absen dari \" + this.userdataTPK['data']['NAMA'] + \" membutuhkan tindak lanjut.\"\n        },\n        heading : {\n          \"en\": \"Pengajuan Koreksi Absen\"\n        },\n        id_kategori: '',\n        id_user: this.userdataTPK['data']['IDUSER'],\n        id_jabatan: this.userdataTPK['data']['IDJABATAN']\n      }\n    \n    )}).then(result => {\n      let hasil = JSON.parse(String(result));                \n      this.navCtrl.pop();\n    }).catch(error => {                      \n      this.navCtrl.pop();\n        \n    });\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss({isCancel:true});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/koreksi-absen-personal/koreksi-absen-personal.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/payslip-list/payslip-list.module.ts","../../src/pages/payslip-list/payslip-list.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PayslipListPage } from './payslip-list';\n\n@NgModule({\n  declarations: [\n    PayslipListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PayslipListPage),\n  ],\n})\nexport class PayslipListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payslip-list/payslip-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ViewController, ToastController } from 'ionic-angular';\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass, sc_code, api_p2b_url } from '../../config';\nimport { CurrencyPipe } from '@angular/common';\n \n/**\n * Generated class for the PayslipListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-payslip-list',\n  providers: [SoapService],\n  templateUrl: 'payslip-list.html',\n})\nexport class PayslipListPage {\n  isLoading: boolean = true;\n  userdataTPK: any;\n  epayslipList: Array<any> = [];\n  halaman = 1;\n  loading: any;\n  fakeUsers: Array<any> = new Array(5);\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public soapService: SoapService,\n    public storage: Storage,\n    public modalCtrl: ModalController,\n    public currencyPipe: CurrencyPipe,\n    public toastCtrl: ToastController\n  ) {\n       \n  }\n\n  ionViewWillLoad() {\n    this.storage.get('userdataTPK').then(val => {      \n      this.userdataTPK = val;\n      this.getPayslipList('first', '');\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad PayslipListPage');\n  }\n \n  goToDetail(data) {\n    this.navCtrl.push('PayslipDetailPage', { periodGroup: data['PERIOD_GROUP'], nipp: this.userdataTPK.data.NIPP });\n  }\n\n  doInfinite(infiniteScroll) {\n    this.halaman++;\n    this.getPayslipList('infinite', infiniteScroll);\n  }\n\n  doRefresh(refresher) {\n    this.halaman = 1;\n    this.getPayslipList('refresh', refresher);\n  }\n\n  getPayslipList(type, functionName) {    \n    \n    if (type == 'first' && functionName == '') {\n      this.isLoading = true;\n    }\n\n    this.soapService\n      .post(\"http://103.19.80.188/api/index.php?wsdl\", 'eoffice_payslip_list', {\n        fStream: JSON.stringify(\n          {\n            usernameEDI: api_user,\n            passwordEDI: api_pass,\n            nipp: this.userdataTPK['data']['NIPP'],\n            page: this.halaman,\n            jmlpage: \"15\",\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));        \n        if (responData['rcmsg'] == \"SUCCESS\") {\n          if (type == 'refresh' && functionName != '') {\n            this.epayslipList = [];\n          }\n          if (responData['data'].length > 0 && !this.isEmptyObject(responData['data'][0])) {\n            for (var i = 0; i < responData['data'].length; i++) {\n              this.epayslipList.push(responData['data'][i]);\n            }\n          }          \n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n        }\n\n        if (type == 'first' && functionName == '') {\n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n        this.isLoading = false;\n      })\n      .catch(error => {        \n        let toast = this.toastCtrl.create({\n          message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n\n        if (type == 'first' && functionName == '') {\n\n        } else if (type == 'infinite' && functionName != '') {\n          functionName.complete();\n        } else if (type == 'refresh' && functionName != '') {\n          functionName.complete();\n        }\n        this.isLoading = false;\n      });\n  }\n\n  searchPayslip() {\n    const modal = this.modalCtrl.create('SearchPayslipPage');\n    modal.present();\n  }\n\n  convertCurrency(money, money2) {\n    if (money != '' && money2 != '') {\n      money = parseInt(money) - parseInt(money2);\n      let hasil = this.currencyPipe.transform(money, 'IDR');\n      return hasil.substr(3);\n    } else {\n      return '0';\n    }\n  }\n\n  isEmptyObject(obj) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payslip-list/payslip-list.ts"],"sourceRoot":""}
{"version":3,"sources":["../../src/pages/search-cuti/search-cuti.module.ts","../../src/pages/search-cuti/search-cuti.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchCutiPage } from './search-cuti';\n\n@NgModule({\n  declarations: [\n    SearchCutiPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchCutiPage),\n  ],\n})\nexport class SearchCutiPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-cuti/search-cuti.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, AlertController, ToastController } from 'ionic-angular';\r\nimport {DatePicker} from '@ionic-native/date-picker';\r\nimport { SoapService } from '../soap.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { api_base_url, api_user, api_pass,sc_code } from '../../config';\r\nimport { DatePipe } from '@angular/common';\r\n/**\r\n * Generated class for the SearchCutiPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more in fo on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage() \r\n@Component({\r\n  selector: 'page-search-cuti',\r\n  providers: [SoapService],\r\n  templateUrl: 'search-cuti.html',\r\n})\r\nexport class SearchCutiPage {\r\n  cutiType:any = \"\";\r\n  approvalStatus:any =\"\";\r\n  startDate:any =\"\";\r\n  endDate:any =\"\";  \r\n  cutiList:Array<any> = [];\r\n  loading:any;\r\n  batasAtas = 1;\r\n  batasBawah = 20;\r\n  isLoading:boolean = false;\r\n  userdataTPK:any;\r\n  fakeUsers: Array<any> = new Array(5);\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    public viewCtrl: ViewController,    \r\n    public storage: Storage,        \r\n    public loadingCtrl: LoadingController,\r\n    public soapService: SoapService,\r\n    public datePicker: DatePicker,\r\n    public alertCtrl: AlertController,    \r\n    public datePipe: DatePipe,\r\n    public toastCtrl: ToastController\r\n  ) {\r\n\r\n    this.storage.get('userdataTPK').then(val => {      \r\n      this.userdataTPK = val;            \r\n        \r\n    });  \r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SearchCutiPage');\r\n  }\r\n  \r\n  closeModal(){\r\n  \t this.viewCtrl.dismiss();\r\n  }\r\n\r\n  showDatePicker(type:number) {\r\n    this.datePicker.show({\r\n      date: new Date(),\r\n      mode: 'date',\r\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_LIGHT\r\n    }).then(date => {\r\n        if (type == 1) {\r\n          this.startDate = this.datePipe.transform(date, 'dd-MM-yyyy'); \r\n        } else if (type == 2) {\r\n          this.endDate = this.datePipe.transform(date, 'dd-MM-yyyy');\r\n        }\r\n      },\r\n      err => console.log('Error occurred while getting date: ', err)\r\n    );\r\n  }\r\n\r\n  getCutiList(type, functionName) {      \r\n    if (type == 'first' && functionName == '' ) {      \r\n      this.isLoading = true; \r\n    }    \r\n    this.soapService\r\n    .post(api_base_url,'eoffice_cuti_list',{fStream:JSON.stringify(\r\n      {\r\n        usernameEDI : api_user, \r\n        passwordEDI : api_pass,\r\n        id_user:this.userdataTPK['data']['IDUSER'],\r\n        search_jenis:this.cutiType,\r\n        search_tgl_pengajuan:\"\",\r\n        search_tgl_mulai: this.startDate,\r\n        search_tgl_selesai:this.endDate,\r\n        search_alasan:\"\",\r\n        search_status: this.approvalStatus,\r\n        atas: this.batasAtas,\r\n        bawah: this.batasBawah      \r\n      }\r\n    )}).then(result => {\r\n      var responData = JSON.parse(String(result));      \r\n      if (responData['rcmsg'] == \"SUCCESS\") {\r\n        if (type == 'refresh' && functionName != '') {\r\n          this.cutiList = [];\r\n        }\r\n        if (responData['data']['Cuti Personal'].length > 0 ) {\r\n          for (var i = 0; i < responData['data']['Cuti Personal'].length; i++) {\r\n            this.cutiList.push(responData['data']['Cuti Personal'][i]);\r\n          }\r\n        }        \r\n      } else {\r\n        let toast = this.toastCtrl.create({\r\n          message: 'Gagal mendapatkan data cuti, silahkan coba kembali.',\r\n          duration: 3000,\r\n          position: 'bottom'\r\n        });\r\n        toast.present();\r\n      }\r\n\r\n      if (type == 'first' && functionName == '') {\r\n        \r\n      } else if (type == 'infinite' && functionName != '') {\r\n        functionName.complete();\r\n      } else if (type == 'refresh' && functionName != '') {\r\n        functionName.complete();\r\n      }\r\n      this.isLoading = false;  \r\n    })\r\n    .catch(error => {      \r\n      let toast = this.toastCtrl.create({\r\n        message: 'Gagal mendapatkan data cuti, periksa koneksi internet anda.',\r\n        duration: 3000,\r\n        position: 'bottom'\r\n      });\r\n      toast.present();\r\n    \r\n      if (type == 'first' && functionName == '') {\r\n        \r\n      } else if (type == 'infinite' && functionName != '') {\r\n        functionName.complete();\r\n      } else if (type == 'refresh' && functionName != '') {\r\n        functionName.complete();\r\n      }\r\n\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  doSearch() {    \r\n    this.batasAtas = 1;\r\n    this.batasBawah = 20;\r\n    this.cutiList = []; \r\n    this.getCutiList('first', '');    \r\n  }\r\n\r\n  doInfinite(infiniteScroll) {\r\n    if (this.cutiList.length >= 20) {\r\n      this.batasAtas = this.batasBawah + 1;\r\n      this.batasBawah = this.batasBawah + 20;\r\n      this.getCutiList('infinite', infiniteScroll);  \r\n    } else {\r\n      infiniteScroll.complete();\r\n    }    \r\n  }\r\n\r\n  isEmptyObject(obj) {\r\n    for(var prop in obj) {\r\n       if (obj.hasOwnProperty(prop)) {\r\n          return false;\r\n       }\r\n    }  \r\n    return true;\r\n  }  \r\n\r\n  clearField() {\r\n    this.approvalStatus = \"\";\r\n    this.cutiType = \"\";\r\n    this.startDate = \"\";\r\n    this.endDate = \"\";\r\n  }\r\n\r\n  checkFocus(data) {\r\n    this.showDatePicker(data);\r\n  }\r\n\r\n  goToDetail(data) {    \r\n    this.navCtrl.push(\"CutiDetailPage\", {\r\n      \"data\": data,\r\n      \"nipp\": this.userdataTPK['data']['NIPP'],\r\n      \"userdataTPK\": this.userdataTPK\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search-cuti/search-cuti.ts"],"sourceRoot":""}
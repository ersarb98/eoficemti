{"version":3,"sources":["../../src/pages/cuti-detail/cuti-detail.module.ts","../../src/pages/cuti-detail/cuti-detail.ts"],"names":[],"mappings":"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","file":"64.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CutiDetailPage } from './cuti-detail';\n\n@NgModule({\n  declarations: [\n    CutiDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CutiDetailPage),\n  ],\n})\nexport class CutiDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cuti-detail/cuti-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ModalController, ToastController } from 'ionic-angular';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass} from '../../config';\nimport { InAppBrowser, InAppBrowserOptions } from '@ionic-native/in-app-browser';\nimport { not } from '@angular/compiler/src/output/output_ast';\n\n\n/**\n * Generated class for the CutiDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-cuti-detail',\n  providers: [SoapService],\n  templateUrl: 'cuti-detail.html',\n})\nexport class CutiDetailPage {\n  isLoading: boolean = true;\n  userdataTPK: any;\n  messageData: any;\n  nipp: any;\n  messageDetail: any;\n  linkSurat: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public soapService: SoapService,\n    public loadingCtrl: LoadingController,\n    public storage: Storage,\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    public inAppBrowser: InAppBrowser\n  ) {\n\n  }\n\n  ionViewWillLoad() {\n    this.messageData = this.navParams.get('data');\n    this.nipp = this.navParams.get('nipp');    \n    this.getDetail();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CutiDetailPage');\n  }\n\n  getDetail() {\n    this.isLoading = true;\n    this.soapService\n      .post(api_base_url, 'eoffice_viewmail', {\n        fStream: JSON.stringify(\n          {\n            usernameEDI: api_user,\n            passwordEDI: api_pass,\n            nipp: this.nipp,\n            linkSurat: this.messageData['Location'],\n            from_modul: 'cuti'\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));        \n\n        if (responData['rcmsg'] == \"SUCCESS\") {\n          this.messageDetail = responData['data'];          \n\n          this.linkSurat = this.messageDetail['Link Surat Asli'];\n        } else {\n          let toast = this.toastCtrl.create({\n            message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n            duration: 3000,\n            position: 'bottom'\n          });\n          toast.present();\n        }\n        // loading.dismiss();\n        this.isLoading = false;\n      })\n      .catch(error => {        \n        let toast = this.toastCtrl.create({\n          message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();\n        // loading.dismiss();\n        this.isLoading = false;\n      });\n  }\n\n  isEmptyObject(obj) {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  goToLogSurat() {\n    this.navCtrl.push('LogSuratPage', {\n      idSurat: this.messageDetail['ID Surat']\n    });\n  }\n\n  downloadInbox(data) {\n    let loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mengunduh surat...\",\n      cssClass: 'transparent',\n      dismissOnPageChange: true\n    });\n    loading.present();\n    this.soapService\n      .post(api_base_url, 'find_file_cuti', {\n        fStream: JSON.stringify(\n          {\n            \"usernameEDI\": api_user,\n            \"passwordEDI\": api_pass,\n            \"fileName\": data,\n            \"id_surat\":this.messageDetail['ID Surat'],\n            \"jenis_surat\":this.messageDetail['Kode Jenis Surat'],\n            \"no_surat\":''\n          }\n        )\n      }).then(result => {\n        var responData = JSON.parse(String(result));        \n        loading.dismiss(); \n        const options: InAppBrowserOptions = {\n          zoom: 'no'\n        }\n\n        const browser = this.inAppBrowser.create(responData['data']['LINK'], '_system', options);\n\n      })\n      .catch(error => {        \n        let alert = this.alertCtrl.create({\n          title: '',\n          subTitle: 'Gagal download surat, silahkan coba lagi',\n          buttons: ['OK']\n        });\n        alert.present();\n        loading.dismiss();\n      });\n  }\n\n  replaceNomorSurat(noSurat) {\n    var result = '';\n    console.log(noSurat);\n    //result = noSurat.replace(/[-.\\/]/g, \"_\"); \n\n    // result = result.replace(/-/g, '_');    \n    //return result + '.pdf';\n    return '';\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cuti-detail/cuti-detail.ts"],"sourceRoot":""}
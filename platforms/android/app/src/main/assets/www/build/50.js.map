{"version":3,"sources":["../../src/pages/koreksi-absen-bawahan/koreksi-absen-bawahan.module.ts","../../src/pages/koreksi-absen-bawahan/koreksi-absen-bawahan.ts"],"names":[],"mappings":"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","file":"50.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { KoreksiAbsenBawahanPage } from './koreksi-absen-bawahan';\n\n@NgModule({\n  declarations: [\n    KoreksiAbsenBawahanPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(KoreksiAbsenBawahanPage),\n  ],\n})\nexport class KoreksiAbsenBawahanPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/koreksi-absen-bawahan/koreksi-absen-bawahan.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ActionSheetController, ModalController, ToastController } from 'ionic-angular';\n\nimport { SoapService } from '../soap.service';\nimport { Storage } from '@ionic/storage';\nimport { api_base_url, api_user, api_pass } from '../../config';\nimport { DatePipe } from '@angular/common';\n/**\n * Generated class for the KoreksiAbsenBawahanPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-koreksi-absen-bawahan',\n  providers: [SoapService],\n  templateUrl: 'koreksi-absen-bawahan.html',\n})\nexport class KoreksiAbsenBawahanPage {\n  bulan:any;\n  tahun:any;   \n  currentYear:any;\n  currentMonth:any;\n  userdataTPK:any;\n  index:any;\n  isLoading:boolean = true;  \n  dataBawahanList = [];\n  dataKoreksiList = [];\n  tahunList:Array<any> = [];\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public alertCtrl: AlertController,\n    public soapService:SoapService,\n    public storage: Storage,\n    public datepipe: DatePipe, \n    public actionSheetCtrl: ActionSheetController,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController\n  ) {\n    let date = new Date();\n   this.currentYear = date.getFullYear();    \n    this.currentMonth = date.getMonth();  \n    this.tahun = this.currentYear;       \n    this.bulan = this.currentMonth+1;\n    for (var i = 0; i < 10;i++) {\n      this.tahunList.push(this.currentYear - i);\n    }  \n      \n    this.storage.get('userdataTPK').then(val => {      \n      this.userdataTPK = val;  \n      this.getDataBawahan((this.currentMonth+1), this.tahun);   \n    });   \n\n  }    \n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad KoreksiAbsenBawahanPage');\n  }\n\n  getDataBawahan(bln, thn) {    \n    let loading = this.loadingCtrl.create({\n      spinner: 'dots',\n      content: \"Mohon Tunggu...\",       \n      cssClass: 'transparent',\n      dismissOnPageChange:true\n    });\n    loading.present();\n    let m = bln;\n    this.soapService.post(api_base_url,'eoffice_absen_bawahan',{fStream:JSON.stringify({\n        usernameEDI : api_user, \n        passwordEDI : api_pass, \n        nipp : this.userdataTPK['data']['NIPP'],\n        idjabatan: this.userdataTPK['data']['IDJABATAN'],  \n        bulan : m < 10 ? '0' + m : m,        \n        tahun : thn                    \n      } \n    )}).then(result => {\n      var responData = JSON.parse(String(result));                 \n      if (responData['rcmsg'] == \"SUCCESS\") {\n        this.dataKoreksiList = [];\n        this.dataKoreksiList = responData['data']['LIST_OFFICER'];                    \n      } else {        \n        let toast = this.toastCtrl.create({\n          message: 'Mohon Maaf Sedang Terjadi Kesalahan, Coba Beberapa Saat Lagi.',\n          duration: 3000,\n          position: 'bottom'\n        });\n        toast.present();         \n      } \n      loading.dismiss();\n      this.isLoading = false;\n    })\n    .catch(error => {      \n      let toast = this.toastCtrl.create({\n        message: 'Terjadi Masalah Koneksi, Silahkan Coba Kembali.',\n        duration: 3000,\n        position: 'bottom'\n      });\n      toast.present();     \n      loading.dismiss();\n      this.isLoading = false;\n    });    \n  }\n \n  convertMonths() {    \n      switch (this.bulan) {\n      case '1':\n          return \"Januari\";          \n      case '2':\n          return \"Februari\";          \n      case '3':\n          return \"Maret\";          \n      case '4':\n          return \"April\";          \n      case '5':\n          return \"Mei\";          \n      case '6':\n          return \"Juni\";          \n      case '7':\n          return \"Juli\";          \n      case '8':\n          return \"Agustus\";\n      case '9':\n          return \"September\";\n      case '10':\n          return \"Oktober\";          \n      case '11':\n          return \"November\";        \n      case '12':\n          return \"Desember\";          \n      default:\n          return \"false\";          \n    }\n  }\n\n  selectVal() {\n    this.dataKoreksiList = [];      \n    if (this.dataBawahanList[this.index]['DATA KOREKSI'].length > 0) {\n      for (let i=0; i < this.dataBawahanList[this.index]['DATA KOREKSI'].length;i++) {\n        this.dataKoreksiList.push(this.dataBawahanList[this.index]['DATA KOREKSI'][i]);\n      }      \n    }    \n    \n  }\n\n  showOption(data) {              \n      let actionSheet = this.actionSheetCtrl.create({ \n        title: 'Pilih Proses',\n        buttons: [\n          {\n            text: 'Approve',\n            role: 'koreksiDatang',\n            handler: () => {              \n              let modal = this.modalCtrl.create(\"ApproveKoreksiAbsenPage\",{\n               dataKoreksi:data,\n               status: '1',\n               is_tno: data['IS_TNO']              \n              }, {\n                enableBackdropDismiss: true,\n                showBackdrop:true,\n                cssClass:'my-modal2'\n              });\n              modal.present();\n\n              modal.onDidDismiss(data => {  \n                this.getDataBawahan(this.bulan, this.tahun);   \n              });           \n            }\n          },\n          {\n            text: 'Decline',\n            handler: () => {              \n              let modal = this.modalCtrl.create(\"ApproveKoreksiAbsenPage\",{\n                dataKoreksi:data,\n                status: '0',\n                is_tno: data['IS_TNO']\n               }, {\n                 enableBackdropDismiss: true,\n                 showBackdrop:true,\n                 cssClass:'my-modal2'\n               });\n               modal.present();\n\n               modal.onDidDismiss(data => {  \n                this.getDataBawahan(this.bulan, this.tahun);\n              }); \n            }\n          },\n          {\n            text: 'Tutup',\n            role: 'cancel',\n            handler: () => {\n              \n            }\n          }\n        ]\n      });\n   \n      actionSheet.present();\n  }\n\n  searchDataKoreksi() {\n    this.getDataBawahan(this.bulan, this.tahun);\n  }\n    \n    \n\n\n} \n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/koreksi-absen-bawahan/koreksi-absen-bawahan.ts"],"sourceRoot":""}